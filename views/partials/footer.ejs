<footer class="footer mt-auto py-4" 
        style="background: var(--dark, #1f2937); color: #f3f4f6; border-radius: 32px 32px 0 0; margin-top:30px !important;">
  <div class="container text-center">
    <div class="row align-items-center">
      <!-- Left Side -->
      <div class="col-12 col-md-6 mb-2 mb-md-0 text-md-start">
        <span class="fw-bold" style="font-family: 'Poppins', 'Montserrat', sans-serif; font-size:1.15rem;">
          &copy; <%= new Date().getFullYear() %> 
          <span style="color:var(--primary,#3B82F6)">The Daily Dairy</span>
        </span>
      </div>

      <!-- Right Side -->
      <div class="col-12 col-md-6 text-md-end">
        <small>
          <a href="/privacy" class="footer-link me-3">Privacy Policy</a>
          <a href="/about" class="footer-link me-3">About</a>
          <a href="/contact" class="footer-link me-3">Contact</a>
        </small>
      </div>
    </div>
  </div>
</footer>

<!-- ===== Bootstrap Toast Notification (for Bookmark messages) ===== -->
<div class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 1100">
  <div 
    id="bookmarkToast" 
    class="toast align-items-center border-0 text-bg-success"
    role="alert"
    data-bs-autohide="true"
    data-bs-delay="3000"
  >
    <div class="d-flex">
      <div class="toast-body" id="bookmarkToastBody">
        <!-- Message generated by JS -->
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
    </div>
  </div>
</div>

<!-- ===== Floating AI Chatbot Styles ===== -->
<style>
  /* ===== Floating Chat Toggle Button ===== */
#chatToggleBtn {
  position: fixed;
  bottom: 24px;
  right: 24px;
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  border: none;
  border-radius: 50%;
  box-shadow: var(--shadow);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: calc(var(--z-nav) + 200);
  transition: background var(--transition), box-shadow var(--transition), transform var(--transition);
}
#chatToggleBtn:hover {
  background: linear-gradient(135deg, var(--primary-hover), var(--secondary-hover));
  box-shadow: var(--shadow-hover);
  transform: translateY(-2px);
}
#chatToggleBtn svg {
  width: 26px;
  height: 26px;
  fill: var(--text-light);
}

/* ===== Chat Widget Container ===== */
#chatWidget {
  position: fixed;
  bottom: 90px;
  right: 24px;
  width: 380px;
  max-height: 500px;
  background: var(--card-bg);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-hover);
  display: none;
  flex-direction: column;
  z-index: calc(var(--z-nav) + 200);
  font-family: 'Inter', 'Segoe UI', Tahoma, sans-serif;
  color: var(--text-main);
  border: 1px solid var(--border-color);
  overflow: hidden;
  animation: slideUp var(--fast) forwards;
}

/* Slide-up animation */
@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ===== Chat Widget Header ===== */
#chatWidget header {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: var(--text-light);
  padding: 16px 20px;
  border-radius: var(--radius-lg) var(--radius-lg) 0 0;
  font-weight: 600;
  font-size: 1.1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: inset 0 -2px 5px rgba(0,0,0,0.05);
}
#chatWidget header button {
  background: transparent;
  border: none;
  color: var(--text-light);
  font-size: 24px;
  font-weight: bold;
  cursor: pointer;
  transition: color var(--transition);
}
#chatWidget header button:hover {
  color: rgba(255, 255, 255, 0.85);
}

/* ===== Chat Messages Area ===== */
#chatMessages {
  flex-grow: 1;
  padding: 18px 20px;
  overflow-y: auto;
  font-size: 15px;
  line-height: 1.5;
  background: var(--light-bg);
}

/* ===== Chat Bubbles ===== */
.chat-message {
  max-width: 80%;
  margin-bottom: 12px;
  padding: 10px 14px;
  border-radius: var(--radius);
  word-wrap: break-word;
  box-shadow: 0 2px 4px rgba(0,0,0,0.04);
  white-space: pre-wrap;
}

.chat-message.user {
  margin-left: auto;
  background: var(--primary);
  color: var(--text-light);
  border-bottom-right-radius: 6px;
  font-weight: 500;
}

.chat-message.bot {
  margin-right: auto;
  background: var(--card-bg);
  color: var(--text-main);
  border-bottom-left-radius: 6px;
  border: 1px solid var(--border-color);
}

/* ===== Input Area ===== */
#chatInputArea {
  display: flex;
  padding: 12px 16px;
  background: var(--light-bg);
  border-top: 1px solid var(--border-color);
}

#chatInput {
  flex-grow: 1;
  border: 1px solid var(--border-color);
  padding: 10px 14px;
  font-size: 15px;
  border-radius: var(--radius);
  outline: none;
  transition: border-color var(--transition), box-shadow var(--transition);
}
#chatInput:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
}

#chatSendBtn {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  border: none;
  margin-left: 10px;
  padding: 0 16px;
  border-radius: var(--radius);
  color: var(--text-light);
  font-weight: bold;
  font-size: 16px;
  cursor: pointer;
  transition: background var(--transition), box-shadow var(--transition), transform var(--transition);
  display: flex;
  align-items: center;
  justify-content: center;
}
#chatSendBtn:hover {
  background: linear-gradient(135deg, var(--primary-hover), var(--secondary-hover));
  box-shadow: var(--shadow-hover);
  transform: translateY(-1px);
}

/* Better arrow icon inside send button */
#chatSendBtn::after {
  content: 'âž¤';
  font-size: 16px;
  margin-left: 6px;
}

</style>

<!-- ===== Floating AI Chatbot HTML ===== -->
<button id="chatToggleBtn" aria-label="Open chat">
  <svg viewBox="0 0 24 24"><path d="M2 2h20v20H5l-3 3V2z"/></svg>
</button>

<div id="chatWidget" role="dialog" aria-modal="true" aria-labelledby="chatTitle">
  <header>
    <span id="chatTitle">AI Chatbot</span>
    <button id="chatCloseBtn" aria-label="Close chat">&times;</button>
  </header>
  <div id="chatMessages" aria-live="polite"></div>
  <div id="chatInputArea">
    <input type="text" id="chatInput" placeholder="Type your message..." aria-label="Chat message input" />
    <button id="chatSendBtn" aria-label="Send message">&#9658;</button>
  </div>
</div>

<!-- JS: Bookmark handler -->
<script src="/js/bookmarks.js"></script>

<!-- JS: Floating chatbot frontend script -->
<script src="/js/floatingChatbot.js"></script>
<script src="/js/likes.js"></script>
